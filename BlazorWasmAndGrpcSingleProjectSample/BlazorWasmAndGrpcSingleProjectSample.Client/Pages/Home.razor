@using MyGrpcService
@page "/"
@inject IGreetingService GreetingService

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

<div>
    <label>
        Name:
        <input @bind="Name" />
    </label>
</div>
<div>
      <button @onclick="SayHelloAsync">Say Hello</button>
</div>
<div>
    @Message
</div>

@code {
    private string Name { get; set; } = "";
    private string Message { get; set; } = "";
    private async Task SayHelloAsync()
    {
        var response = await GreetingService.SayHello(new HelloRequest { Name = Name });
        Message = response.Message;
    }
}
